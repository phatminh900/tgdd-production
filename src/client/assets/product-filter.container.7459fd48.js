import{a as h,s as R,S as M,r as v,i as V,b as Y,u as W,l as T,j as k,k as B}from"./index.716acec3.js";const de=({links:e})=>h("div",{"data-testid":"product-header",className:R.header,children:h(M,{links:e,isLink:!0,usingDots:!0,autoScroll:!0,className:R.slider,maxSlideLength:e.length})});let q=!0;const fe=(e,t,r)=>{const c=()=>{switch(t){case"phone":return e;case"laptop":return e;default:return t}},[o,n]=v.exports.useState(c()),[i,a]=v.exports.useState(e.slug),s=p=>{const u=p.target.dataset.url;a(u)};return v.exports.useEffect(()=>{if(q){q=!1;return}(async()=>{const u=await V(o.category,i);!u||!u.length||u&&n(u[0])})()},[i,o.category]),{currentProduct:o,changeCurrentStorage:s,setCurrentUrl:a}};var U={exports:{}},H="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",j=H,A=j;function D(){}function N(){}N.resetWarningCache=D;var X=function(){function e(c,o,n,i,a,s){if(s!==A){var p=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw p.name="Invariant Violation",p}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:N,resetWarningCache:D};return r.PropTypes=r,r};U.exports=X();var z=function(t,r,c,o){var n=c?c.call(o,t,r):void 0;if(n!==void 0)return!!n;if(t===r)return!0;if(typeof t!="object"||!t||typeof r!="object"||!r)return!1;var i=Object.keys(t),a=Object.keys(r);if(i.length!==a.length)return!1;for(var s=Object.prototype.hasOwnProperty.bind(r),p=0;p<i.length;p++){var u=i[p];if(!s(u))return!1;var _=t[u],y=r[u];if(n=c?c.call(o,_,y,u):void 0,n===!1||n===void 0&&_!==y)return!1}return!0};function Q(e){return e&&typeof e=="object"&&"default"in e?e.default:e}var $=v.exports,G=Q($),J=Q(z);function C(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function K(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var Z=!!(typeof window<"u"&&window.document&&window.document.createElement);function ee(e,t,r){if(typeof e!="function")throw new Error("Expected reducePropsToState to be a function.");if(typeof t!="function")throw new Error("Expected handleStateChangeOnClient to be a function.");if(typeof r<"u"&&typeof r!="function")throw new Error("Expected mapStateOnServer to either be undefined or a function.");function c(o){return o.displayName||o.name||"Component"}return function(n){if(typeof n!="function")throw new Error("Expected WrappedComponent to be a React component.");var i=[],a;function s(){a=e(i.map(function(u){return u.props})),p.canUseDOM?t(a):r&&(a=r(a))}var p=function(u){K(_,u);function _(){return u.apply(this,arguments)||this}_.peek=function(){return a},_.rewind=function(){if(_.canUseDOM)throw new Error("You may only call rewind() on the server. Call peek() to read the current state.");var d=a;return a=void 0,i=[],d};var y=_.prototype;return y.shouldComponentUpdate=function(d){return!J(d,this.props)},y.componentWillMount=function(){i.push(this),s()},y.componentDidUpdate=function(){s()},y.componentWillUnmount=function(){var d=i.indexOf(this);i.splice(d,1),s()},y.render=function(){return G.createElement(n,this.props)},_}($.Component);return C(p,"displayName","SideEffect("+c(n)+")"),C(p,"canUseDOM",Z),p}}var te=ee,L=v.exports,re=U.exports,ne=te;function oe(e){var t=e[e.length-1];if(t)return t.title}function ie(e){var t=e||"";t!==document.title&&(document.title=t)}function O(){}O.prototype=Object.create(L.Component.prototype);O.displayName="DocumentTitle";O.propTypes={title:re.string.isRequired};O.prototype.render=function(){return this.props.children?L.Children.only(this.props.children):null};var ye=ne(oe,ie)(O);const ce="_active_1vafr_22",f={"product-filter__list":"_product-filter__list_1vafr_13",active:ce,"product-filter__item":"_product-filter__item_1vafr_25","product-filter__btn":"_product-filter__btn_1vafr_49","product-filter__firm-btn":"_product-filter__firm-btn_1vafr_49","product-filter":"_product-filter_1vafr_13","product-filter__list-child":"_product-filter__list-child_1vafr_67","product-filter__options":"_product-filter__options_1vafr_104","product-filter__actions":"_product-filter__actions_1vafr_104","product-filter__firms":"_product-filter__firms_1vafr_123"},I={keys:[],values:[],query:[]},ae=(e,t)=>{const{type:r,payload:c}=t;switch(r){case"ADD_QUERY":return{...e,values:[...e.values,c.value],keys:[...e.keys,c.key],query:[...e.query,{[c.key]:c.value}]};case"REMOVE_QUERY":const o=e.keys,n=e.values;return o.splice(o.indexOf(t.payload.key),1),n.splice(n.indexOf(t.payload.value),1),{query:e.query.filter(i=>i[c.key]!==c.value),keys:o,values:n};case"CREATE_QUERY":return{...e};default:return I}},se=e=>{const t=Y(),{pathname:r}=W(),[c,o]=v.exports.useState(!1),[n,i]=v.exports.useReducer(ae,I),[a,s]=v.exports.useState("");return{isOpenFilterBox:c,setIsOpenFilterBox:o,currentFilterBox:a,setCurrentFilterBox:s,addToFilterQuery:y=>{var g,m,w,b,F;const l=y.target,d={...(g=l.closest("button"))==null?void 0:g.dataset};n.query.some((P,x)=>Object.keys(d).length===2?T.exports.isEqual({...P,...n.query[x+1]},d):T.exports.isEqual(P,d))?((m=l.closest("button"))==null||m.classList.remove(f.active),(w=l.closest("li"))==null||w.classList.remove(f.active)):((b=l.closest("button"))==null||b.classList.add(f.active),(F=l.closest("li"))==null||F.classList.add(f.active)),Object.entries(d).forEach(P=>{const[x,S]=P;if(n.query&&n.values.includes(S)&&n.keys.includes(x))return i({type:"REMOVE_QUERY",payload:{key:x,value:S}});i({type:"ADD_QUERY",payload:{key:x,value:S}})})},unQueryFilter:y=>{var E,g;const l=(g=(E=y.target.parentElement)==null?void 0:E.parentElement)==null?void 0:g.querySelectorAll(`.${f["product-filter__btn"]}`);[...l].map(m=>Object.entries(m.dataset)).forEach(m=>{const[w,b]=m[0];i({type:"REMOVE_QUERY",payload:{key:w,value:b}})}),o(!1),l.forEach(m=>m.classList.remove(f.active))},queryFilter:async()=>{const y=n.keys.reduce((l,d,E)=>["lt","gte","gt","lte"].includes(d)?l+=`&price[${d}]=${n.values[E]}`:l+=`&${d}=${n.values[E]}`,"");o(!1),t({pathname:r,search:y})}}},ue=({isOpenFilterBox:e,currentFilterBox:t,filter:r,setIsOpenFilterBox:c,setCurrentFilterBox:o,addToFilterQuery:n,unQueryFilter:i,queryFilter:a})=>k("li",{className:`${f["product-filter__item"]} ${e&&t===r.title?f.active:""} `,children:[k("button",{onClick:()=>{c(s=>!s),o(r.title)},className:`${f["product-filter__btn"]} product-filter__btn-box flex-vt-ct`,children:[r.title," ",h(B,{})]}),k("ul",{className:f["product-filter__list-child"],children:[h("div",{className:`${f["product-filter__options"]}  flex-vt-ct gap-12px`,children:r.content&&r.content.map(s=>{const{content:p,id:u,..._}=s;return v.exports.createElement("button",{..._,key:u,onClick:n,className:`${f["product-filter__btn"]} `},s.content)})}),k("div",{className:`${f["product-filter__actions"]} flex-both-ct gap-12px`,children:[h("button",{onClick:i,children:"B\u1ECF ch\u1ECDn"}),h("button",{onClick:a,children:"Xem k\u1EBFt qu\u1EA3"})]})]})]},r.id),le=({filterList:e,isOpenFilterBox:t,currentFilterBox:r,setIsOpenFilterBox:c,setCurrentFilterBox:o,addToFilterQuery:n,unQueryFilter:i,queryFilter:a})=>h("ul",{className:`${f["product-filter__list"]} flex-vt-ct gap-12px`,children:e.map(s=>h(ue,{filter:s,setCurrentFilterBox:o,queryFilter:a,unQueryFilter:i,addToFilterQuery:n,isOpenFilterBox:t,currentFilterBox:r,setIsOpenFilterBox:c},s.id))}),_e=({filterList:e,resource:t})=>{const{isOpenFilterBox:r,setIsOpenFilterBox:c,currentFilterBox:o,setCurrentFilterBox:n,addToFilterQuery:i,unQueryFilter:a,queryFilter:s}=se();return h("div",{className:f["product-filter"],children:h(le,{filterList:e,setCurrentFilterBox:n,queryFilter:s,unQueryFilter:a,addToFilterQuery:i,isOpenFilterBox:r,currentFilterBox:o,setIsOpenFilterBox:c})})};export{de as P,_e as a,ye as r,fe as u};
